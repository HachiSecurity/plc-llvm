<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Hachi.Compiler.CodeGen.Closure</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">plc-llvm-0.1.0.0</span><ul class="links" id="page-menu"><li><a href="src/Hachi.Compiler.CodeGen.Closure.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Hachi.Compiler.CodeGen.Closure</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">Closure representation</a></li><li><a href="#g:2">Creating closures</a></li><li><a href="#g:3">Loading data from closures</a></li><li><a href="#g:4">Misc</a></li></ul></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">data</span> <a href="#t:ClosurePtr">ClosurePtr</a> (k :: <a href="Hachi-Compiler-CodeGen-Types.html#t:PtrKind" title="Hachi.Compiler.CodeGen.Types">PtrKind</a>) <span class="keyword">where</span><ul class="subs"><li><a href="#v:MkClosurePtr">MkClosurePtr</a> :: <a href="../llvm-hs-pure-12.0.0/LLVM-AST-Operand.html#t:Operand" title="LLVM.AST.Operand">Operand</a> -&gt; <a href="Hachi-Compiler-CodeGen-Closure.html#t:ClosurePtr" title="Hachi.Compiler.CodeGen.Closure">ClosurePtr</a> '<a href="Hachi-Compiler-CodeGen-Types.html#v:DynamicPtr" title="Hachi.Compiler.CodeGen.Types">DynamicPtr</a></li><li><a href="#v:MkStaticClosurePtr">MkStaticClosurePtr</a> :: <a href="../llvm-hs-pure-12.0.0/LLVM-AST-Constant.html#t:Constant" title="LLVM.AST.Constant">Constant</a> -&gt; <a href="Hachi-Compiler-CodeGen-Closure.html#t:ClosurePtr" title="Hachi.Compiler.CodeGen.Closure">ClosurePtr</a> '<a href="Hachi-Compiler-CodeGen-Types.html#v:StaticPtr" title="Hachi.Compiler.CodeGen.Types">StaticPtr</a></li></ul></li><li class="src short"><a href="#v:closureTyDef">closureTyDef</a> :: <a href="../llvm-hs-pure-12.0.0/LLVM-AST-Type.html#t:Type" title="LLVM.AST.Type">Type</a></li><li class="src short"><a href="#v:closureSize">closureSize</a> :: <a href="../base-4.14.3.0/Prelude.html#t:Num" title="Prelude">Num</a> a =&gt; a</li><li class="src short"><a href="#v:closureTy">closureTy</a> :: <a href="../llvm-hs-pure-12.0.0/LLVM-AST-Type.html#t:Type" title="LLVM.AST.Type">Type</a></li><li class="src short"><a href="#v:closureTyPtr">closureTyPtr</a> :: <a href="../llvm-hs-pure-12.0.0/LLVM-AST-Type.html#t:Type" title="LLVM.AST.Type">Type</a></li><li class="src short"><a href="#v:mkEntryTy">mkEntryTy</a> :: <a href="../base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="../llvm-hs-pure-12.0.0/LLVM-AST-Type.html#t:Type" title="LLVM.AST.Type">Type</a></li><li class="src short"><a href="#v:clsEntryTy">clsEntryTy</a> :: <a href="../llvm-hs-pure-12.0.0/LLVM-AST-Type.html#t:Type" title="LLVM.AST.Type">Type</a></li><li class="src short"><a href="#v:clsEntryParams">clsEntryParams</a> :: <a href="../cardano-prelude-0.1.0.0/Cardano-Prelude.html#t:Text" title="Cardano.Prelude">Text</a> -&gt; [(<a href="../llvm-hs-pure-12.0.0/LLVM-AST-Type.html#t:Type" title="LLVM.AST.Type">Type</a>, <a href="Hachi-Compiler-CodeGen-IRBuilder.html#t:ParameterName" title="Hachi.Compiler.CodeGen.IRBuilder">ParameterName</a>)]</li><li class="src short"><a href="#v:varEntryTy">varEntryTy</a> :: <a href="../llvm-hs-pure-12.0.0/LLVM-AST-Type.html#t:Type" title="LLVM.AST.Type">Type</a></li><li class="src short"><a href="#v:printFnTy">printFnTy</a> :: <a href="../llvm-hs-pure-12.0.0/LLVM-AST-Type.html#t:Type" title="LLVM.AST.Type">Type</a></li><li class="src short"><a href="#v:mkClosureName">mkClosureName</a> :: <a href="../base-4.14.3.0/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="../llvm-hs-pure-12.0.0/LLVM-AST-Name.html#t:Name" title="LLVM.AST.Name">Name</a></li><li class="src short"><a href="#v:compileClosure">compileClosure</a> :: <a href="Hachi-Compiler-CodeGen-IRBuilder.html#t:MonadModuleBuilder" title="Hachi.Compiler.CodeGen.IRBuilder">MonadModuleBuilder</a> m =&gt; <a href="../base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> -&gt; <a href="../base-4.14.3.0/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="../llvm-hs-pure-12.0.0/LLVM-AST-Constant.html#t:Constant" title="LLVM.AST.Constant">Constant</a> -&gt; <a href="../llvm-hs-pure-12.0.0/LLVM-AST-Constant.html#t:Constant" title="LLVM.AST.Constant">Constant</a> -&gt; [<a href="../llvm-hs-pure-12.0.0/LLVM-AST-Constant.html#t:Constant" title="LLVM.AST.Constant">Constant</a>] -&gt; m (<a href="Hachi-Compiler-CodeGen-Closure.html#t:ClosurePtr" title="Hachi.Compiler.CodeGen.Closure">ClosurePtr</a> '<a href="Hachi-Compiler-CodeGen-Types.html#v:StaticPtr" title="Hachi.Compiler.CodeGen.Types">StaticPtr</a>)</li><li class="src short"><a href="#v:ptrSize">ptrSize</a> :: <a href="../llvm-hs-pure-12.0.0/LLVM-AST-Operand.html#t:Operand" title="LLVM.AST.Operand">Operand</a></li><li class="src short"><a href="#v:bits">bits</a> :: <a href="../base-4.14.3.0/Data-Word.html#t:Word32" title="Data.Word">Word32</a></li><li class="src short"><span class="keyword">class</span> <a href="#t:HasFreeVars">HasFreeVars</a> ptr <span class="keyword">where</span><ul class="subs"><li><a href="#v:loadFreeVar">loadFreeVar</a> :: (<a href="Hachi-Compiler-CodeGen-IRBuilder.html#t:MonadModuleBuilder" title="Hachi.Compiler.CodeGen.IRBuilder">MonadModuleBuilder</a> m, <a href="Hachi-Compiler-CodeGen-IRBuilder.html#t:MonadIRBuilder" title="Hachi.Compiler.CodeGen.IRBuilder">MonadIRBuilder</a> m) =&gt; ptr -&gt; <a href="../llvm-hs-pure-12.0.0/LLVM-AST-Type.html#t:Type" title="LLVM.AST.Type">Type</a> -&gt; <a href="../base-4.14.3.0/Prelude.html#t:Integer" title="Prelude">Integer</a> -&gt; m <a href="../llvm-hs-pure-12.0.0/LLVM-AST-Operand.html#t:Operand" title="LLVM.AST.Operand">Operand</a></li></ul></li><li class="src short"><a href="#v:allocateClosure">allocateClosure</a> :: (<a href="Hachi-Compiler-CodeGen-Monad.html#t:MonadCodeGen" title="Hachi.Compiler.CodeGen.Monad">MonadCodeGen</a> m, <a href="Hachi-Compiler-CodeGen-IRBuilder.html#t:MonadIRBuilder" title="Hachi.Compiler.CodeGen.IRBuilder">MonadIRBuilder</a> m) =&gt; <a href="../base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> -&gt; <a href="../llvm-hs-pure-12.0.0/LLVM-AST-Constant.html#t:Constant" title="LLVM.AST.Constant">Constant</a> -&gt; <a href="../llvm-hs-pure-12.0.0/LLVM-AST-Constant.html#t:Constant" title="LLVM.AST.Constant">Constant</a> -&gt; [<a href="../llvm-hs-pure-12.0.0/LLVM-AST-Operand.html#t:Operand" title="LLVM.AST.Operand">Operand</a>] -&gt; m (<a href="Hachi-Compiler-CodeGen-Closure.html#t:ClosurePtr" title="Hachi.Compiler.CodeGen.Closure">ClosurePtr</a> '<a href="Hachi-Compiler-CodeGen-Types.html#v:DynamicPtr" title="Hachi.Compiler.CodeGen.Types">DynamicPtr</a>)</li><li class="src short"><a href="#v:withFreeVars">withFreeVars</a> :: (<a href="Hachi-Compiler-CodeGen-Closure.html#t:HasFreeVars" title="Hachi.Compiler.CodeGen.Closure">HasFreeVars</a> ptr, <a href="Hachi-Compiler-CodeGen-Monad.html#t:MonadCodeGen" title="Hachi.Compiler.CodeGen.Monad">MonadCodeGen</a> m, <a href="Hachi-Compiler-CodeGen-IRBuilder.html#t:MonadIRBuilder" title="Hachi.Compiler.CodeGen.IRBuilder">MonadIRBuilder</a> m) =&gt; ptr -&gt; m a -&gt; m a</li><li class="src short"><a href="#v:compileDynamicClosure">compileDynamicClosure</a> :: <a href="Hachi-Compiler-CodeGen-Monad.html#t:MonadCodeGen" title="Hachi.Compiler.CodeGen.Monad">MonadCodeGen</a> m =&gt; <a href="../base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> -&gt; <a href="../base-4.14.3.0/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="../cardano-prelude-0.1.0.0/Cardano-Prelude.html#t:Set" title="Cardano.Prelude">Set</a> (<a href="../cardano-prelude-0.1.0.0/Cardano-Prelude.html#t:Text" title="Cardano.Prelude">Text</a>, <a href="../base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) -&gt; <a href="../cardano-prelude-0.1.0.0/Cardano-Prelude.html#t:Text" title="Cardano.Prelude">Text</a> -&gt; (<a href="../llvm-hs-pure-12.0.0/LLVM-AST-Operand.html#t:Operand" title="LLVM.AST.Operand">Operand</a> -&gt; <a href="../llvm-hs-pure-12.0.0/LLVM-AST-Operand.html#t:Operand" title="LLVM.AST.Operand">Operand</a> -&gt; <a href="Hachi-Compiler-CodeGen-Types.html#t:Continuation" title="Hachi.Compiler.CodeGen.Types">Continuation</a> -&gt; <a href="Hachi-Compiler-CodeGen-IRBuilder.html#t:IRBuilderT" title="Hachi.Compiler.CodeGen.IRBuilder">IRBuilderT</a> m ()) -&gt; <a href="Hachi-Compiler-CodeGen-IRBuilder.html#t:IRBuilderT" title="Hachi.Compiler.CodeGen.IRBuilder">IRBuilderT</a> m (<a href="Hachi-Compiler-CodeGen-Closure.html#t:ClosurePtr" title="Hachi.Compiler.CodeGen.Closure">ClosurePtr</a> '<a href="Hachi-Compiler-CodeGen-Types.html#v:DynamicPtr" title="Hachi.Compiler.CodeGen.Types">DynamicPtr</a>)</li><li class="src short"><a href="#v:compileFunPrint">compileFunPrint</a> :: <a href="Hachi-Compiler-CodeGen-Monad.html#t:MonadCodeGen" title="Hachi.Compiler.CodeGen.Monad">MonadCodeGen</a> m =&gt; m <a href="../llvm-hs-pure-12.0.0/LLVM-AST-Constant.html#t:Constant" title="LLVM.AST.Constant">Constant</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:ClosureComponent">ClosureComponent</a><ul class="subs"><li>= <a href="#v:ClosureCode">ClosureCode</a></li><li>| <a href="#v:ClosurePrint">ClosurePrint</a></li><li>| <a href="#v:ClosureFlags">ClosureFlags</a></li><li>| <a href="#v:ClosureFreeVar">ClosureFreeVar</a> <a href="../base-4.14.3.0/Prelude.html#t:Integer" title="Prelude">Integer</a></li></ul></li><li class="src short"><a href="#v:loadFromClosure">loadFromClosure</a> :: (<a href="Hachi-Compiler-CodeGen-IRBuilder.html#t:MonadModuleBuilder" title="Hachi.Compiler.CodeGen.IRBuilder">MonadModuleBuilder</a> m, <a href="Hachi-Compiler-CodeGen-IRBuilder.html#t:MonadIRBuilder" title="Hachi.Compiler.CodeGen.IRBuilder">MonadIRBuilder</a> m) =&gt; <a href="Hachi-Compiler-CodeGen-Closure.html#t:ClosureComponent" title="Hachi.Compiler.CodeGen.Closure">ClosureComponent</a> -&gt; <a href="../llvm-hs-pure-12.0.0/LLVM-AST-Type.html#t:Type" title="LLVM.AST.Type">Type</a> -&gt; <a href="Hachi-Compiler-CodeGen-Closure.html#t:ClosurePtr" title="Hachi.Compiler.CodeGen.Closure">ClosurePtr</a> k -&gt; m <a href="../llvm-hs-pure-12.0.0/LLVM-AST-Operand.html#t:Operand" title="LLVM.AST.Operand">Operand</a></li><li class="src short"><a href="#v:callClosure">callClosure</a> :: (<a href="../base-4.14.3.0/Control-Monad-Fail.html#t:MonadFail" title="Control.Monad.Fail">MonadFail</a> m, <a href="Hachi-Compiler-CodeGen-IRBuilder.html#t:MonadModuleBuilder" title="Hachi.Compiler.CodeGen.IRBuilder">MonadModuleBuilder</a> m, <a href="Hachi-Compiler-CodeGen-IRBuilder.html#t:MonadIRBuilder" title="Hachi.Compiler.CodeGen.IRBuilder">MonadIRBuilder</a> m) =&gt; <a href="Hachi-Compiler-CodeGen-Closure.html#t:ClosureComponent" title="Hachi.Compiler.CodeGen.Closure">ClosureComponent</a> -&gt; <a href="Hachi-Compiler-CodeGen-Closure.html#t:ClosurePtr" title="Hachi.Compiler.CodeGen.Closure">ClosurePtr</a> k -&gt; [<a href="../llvm-hs-pure-12.0.0/LLVM-AST-Operand.html#t:Operand" title="LLVM.AST.Operand">Operand</a>] -&gt; m (<a href="Hachi-Compiler-CodeGen-Closure.html#t:ClosurePtr" title="Hachi.Compiler.CodeGen.Closure">ClosurePtr</a> '<a href="Hachi-Compiler-CodeGen-Types.html#v:DynamicPtr" title="Hachi.Compiler.CodeGen.Types">DynamicPtr</a>)</li><li class="src short"><a href="#v:enterClosure">enterClosure</a> :: (<a href="../base-4.14.3.0/Control-Monad-Fail.html#t:MonadFail" title="Control.Monad.Fail">MonadFail</a> m, <a href="Hachi-Compiler-CodeGen-IRBuilder.html#t:MonadModuleBuilder" title="Hachi.Compiler.CodeGen.IRBuilder">MonadModuleBuilder</a> m, <a href="Hachi-Compiler-CodeGen-IRBuilder.html#t:MonadIRBuilder" title="Hachi.Compiler.CodeGen.IRBuilder">MonadIRBuilder</a> m) =&gt; <a href="Hachi-Compiler-CodeGen-Closure.html#t:ClosurePtr" title="Hachi.Compiler.CodeGen.Closure">ClosurePtr</a> k -&gt; <a href="Hachi-Compiler-CodeGen-Types.html#t:Continuation" title="Hachi.Compiler.CodeGen.Types">Continuation</a> -&gt; <a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../llvm-hs-pure-12.0.0/LLVM-AST-Operand.html#t:Operand" title="LLVM.AST.Operand">Operand</a> -&gt; m (<a href="Hachi-Compiler-CodeGen-Closure.html#t:ClosurePtr" title="Hachi.Compiler.CodeGen.Closure">ClosurePtr</a> '<a href="Hachi-Compiler-CodeGen-Types.html#v:DynamicPtr" title="Hachi.Compiler.CodeGen.Types">DynamicPtr</a>)</li><li class="src short"><a href="#v:printClosure">printClosure</a> :: (<a href="../base-4.14.3.0/Control-Monad-Fail.html#t:MonadFail" title="Control.Monad.Fail">MonadFail</a> m, <a href="Hachi-Compiler-CodeGen-IRBuilder.html#t:MonadModuleBuilder" title="Hachi.Compiler.CodeGen.IRBuilder">MonadModuleBuilder</a> m, <a href="Hachi-Compiler-CodeGen-IRBuilder.html#t:MonadIRBuilder" title="Hachi.Compiler.CodeGen.IRBuilder">MonadIRBuilder</a> m) =&gt; <a href="Hachi-Compiler-CodeGen-Closure.html#t:ClosurePtr" title="Hachi.Compiler.CodeGen.Closure">ClosurePtr</a> k -&gt; m ()</li><li class="src short"><a href="#v:compileApply">compileApply</a> :: (<a href="../base-4.14.3.0/Control-Monad-Fail.html#t:MonadFail" title="Control.Monad.Fail">MonadFail</a> m, <a href="Hachi-Compiler-CodeGen-IRBuilder.html#t:MonadModuleBuilder" title="Hachi.Compiler.CodeGen.IRBuilder">MonadModuleBuilder</a> m, <a href="Hachi-Compiler-CodeGen-IRBuilder.html#t:MonadIRBuilder" title="Hachi.Compiler.CodeGen.IRBuilder">MonadIRBuilder</a> m) =&gt; <a href="Hachi-Compiler-CodeGen-Types.html#t:Continuation" title="Hachi.Compiler.CodeGen.Types">Continuation</a> -&gt; <a href="Hachi-Compiler-CodeGen-Closure.html#t:ClosurePtr" title="Hachi.Compiler.CodeGen.Closure">ClosurePtr</a> f -&gt; <a href="Hachi-Compiler-CodeGen-Closure.html#t:ClosurePtr" title="Hachi.Compiler.CodeGen.Closure">ClosurePtr</a> x -&gt; m (<a href="Hachi-Compiler-CodeGen-Closure.html#t:ClosurePtr" title="Hachi.Compiler.CodeGen.Closure">ClosurePtr</a> '<a href="Hachi-Compiler-CodeGen-Types.html#v:DynamicPtr" title="Hachi.Compiler.CodeGen.Types">DynamicPtr</a>)</li><li class="src short"><a href="#v:lookupVar">lookupVar</a> :: (<a href="Hachi-Compiler-CodeGen-Monad.html#t:MonadCodeGen" title="Hachi.Compiler.CodeGen.Monad">MonadCodeGen</a> m, <a href="Hachi-Compiler-CodeGen-IRBuilder.html#t:MonadIRBuilder" title="Hachi.Compiler.CodeGen.IRBuilder">MonadIRBuilder</a> m, <a href="../base-4.14.3.0/Control-Monad-Fail.html#t:MonadFail" title="Control.Monad.Fail">MonadFail</a> m) =&gt; <a href="../cardano-prelude-0.1.0.0/Cardano-Prelude.html#t:Text" title="Cardano.Prelude">Text</a> -&gt; <a href="../llvm-hs-pure-12.0.0/LLVM-AST-Type.html#t:Type" title="LLVM.AST.Type">Type</a> -&gt; m <a href="../llvm-hs-pure-12.0.0/LLVM-AST-Operand.html#t:Operand" title="LLVM.AST.Operand">Operand</a></li><li class="src short"><a href="#v:retClosure">retClosure</a> :: (<a href="Hachi-Compiler-CodeGen-IRBuilder.html#t:MonadModuleBuilder" title="Hachi.Compiler.CodeGen.IRBuilder">MonadModuleBuilder</a> m, <a href="Hachi-Compiler-CodeGen-IRBuilder.html#t:MonadIRBuilder" title="Hachi.Compiler.CodeGen.IRBuilder">MonadIRBuilder</a> m) =&gt; <a href="Hachi-Compiler-CodeGen-Closure.html#t:ClosurePtr" title="Hachi.Compiler.CodeGen.Closure">ClosurePtr</a> k -&gt; m ()</li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>Closure representation</h1></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:ClosurePtr" class="def">ClosurePtr</a> (k :: <a href="Hachi-Compiler-CodeGen-Types.html#t:PtrKind" title="Hachi.Compiler.CodeGen.Types">PtrKind</a>) <span class="keyword">where</span> <a href="src/Hachi.Compiler.CodeGen.Types.html#ClosurePtr" class="link">Source</a> <a href="#t:ClosurePtr" class="selflink">#</a></p><div class="doc"><p>Represents a pointer to a closure.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:MkClosurePtr" class="def">MkClosurePtr</a> :: <a href="../llvm-hs-pure-12.0.0/LLVM-AST-Operand.html#t:Operand" title="LLVM.AST.Operand">Operand</a> -&gt; <a href="Hachi-Compiler-CodeGen-Closure.html#t:ClosurePtr" title="Hachi.Compiler.CodeGen.Closure">ClosurePtr</a> '<a href="Hachi-Compiler-CodeGen-Types.html#v:DynamicPtr" title="Hachi.Compiler.CodeGen.Types">DynamicPtr</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:MkStaticClosurePtr" class="def">MkStaticClosurePtr</a> :: <a href="../llvm-hs-pure-12.0.0/LLVM-AST-Constant.html#t:Constant" title="LLVM.AST.Constant">Constant</a> -&gt; <a href="Hachi-Compiler-CodeGen-Closure.html#t:ClosurePtr" title="Hachi.Compiler.CodeGen.Closure">ClosurePtr</a> '<a href="Hachi-Compiler-CodeGen-Types.html#v:StaticPtr" title="Hachi.Compiler.CodeGen.Types">StaticPtr</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:ClosurePtr">Instances</h4><details id="i:ClosurePtr" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ClosurePtr:Eq:1"></span> <a href="../base-4.14.3.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Hachi-Compiler-CodeGen-Closure.html#t:ClosurePtr" title="Hachi.Compiler.CodeGen.Closure">ClosurePtr</a> k)</span> <a href="src/Hachi.Compiler.CodeGen.Types.html#line-240" class="link">Source</a> <a href="#t:ClosurePtr" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ClosurePtr:Eq:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Hachi-Compiler-CodeGen-Types.html">Hachi.Compiler.CodeGen.Types</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Hachi-Compiler-CodeGen-Closure.html#t:ClosurePtr" title="Hachi.Compiler.CodeGen.Closure">ClosurePtr</a> k -&gt; <a href="Hachi-Compiler-CodeGen-Closure.html#t:ClosurePtr" title="Hachi.Compiler.CodeGen.Closure">ClosurePtr</a> k -&gt; <a href="../base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Hachi-Compiler-CodeGen-Closure.html#t:ClosurePtr" title="Hachi.Compiler.CodeGen.Closure">ClosurePtr</a> k -&gt; <a href="Hachi-Compiler-CodeGen-Closure.html#t:ClosurePtr" title="Hachi.Compiler.CodeGen.Closure">ClosurePtr</a> k -&gt; <a href="../base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ClosurePtr:Show:2"></span> <a href="../base-4.14.3.0/Text-Show.html#t:Show" title="Text.Show">Show</a> (<a href="Hachi-Compiler-CodeGen-Closure.html#t:ClosurePtr" title="Hachi.Compiler.CodeGen.Closure">ClosurePtr</a> k)</span> <a href="src/Hachi.Compiler.CodeGen.Types.html#line-241" class="link">Source</a> <a href="#t:ClosurePtr" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ClosurePtr:Show:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Hachi-Compiler-CodeGen-Types.html">Hachi.Compiler.CodeGen.Types</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="../base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Hachi-Compiler-CodeGen-Closure.html#t:ClosurePtr" title="Hachi.Compiler.CodeGen.Closure">ClosurePtr</a> k -&gt; <a href="../base-4.14.3.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Hachi-Compiler-CodeGen-Closure.html#t:ClosurePtr" title="Hachi.Compiler.CodeGen.Closure">ClosurePtr</a> k -&gt; <a href="../base-4.14.3.0/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Hachi-Compiler-CodeGen-Closure.html#t:ClosurePtr" title="Hachi.Compiler.CodeGen.Closure">ClosurePtr</a> k] -&gt; <a href="../base-4.14.3.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ClosurePtr:HasFreeVars:3"></span> <a href="Hachi-Compiler-CodeGen-Closure.html#t:HasFreeVars" title="Hachi.Compiler.CodeGen.Closure">HasFreeVars</a> (<a href="Hachi-Compiler-CodeGen-Closure.html#t:ClosurePtr" title="Hachi.Compiler.CodeGen.Closure">ClosurePtr</a> k)</span> <a href="src/Hachi.Compiler.CodeGen.Closure.html#line-193" class="link">Source</a> <a href="#t:HasFreeVars" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ClosurePtr:HasFreeVars:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Hachi-Compiler-CodeGen-Closure.html">Hachi.Compiler.CodeGen.Closure</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:loadFreeVar">loadFreeVar</a> :: (<a href="Hachi-Compiler-CodeGen-IRBuilder.html#t:MonadModuleBuilder" title="Hachi.Compiler.CodeGen.IRBuilder">MonadModuleBuilder</a> m, <a href="Hachi-Compiler-CodeGen-IRBuilder.html#t:MonadIRBuilder" title="Hachi.Compiler.CodeGen.IRBuilder">MonadIRBuilder</a> m) =&gt; <a href="Hachi-Compiler-CodeGen-Closure.html#t:ClosurePtr" title="Hachi.Compiler.CodeGen.Closure">ClosurePtr</a> k -&gt; <a href="../llvm-hs-pure-12.0.0/LLVM-AST-Type.html#t:Type" title="LLVM.AST.Type">Type</a> -&gt; <a href="../base-4.14.3.0/Prelude.html#t:Integer" title="Prelude">Integer</a> -&gt; m <a href="../llvm-hs-pure-12.0.0/LLVM-AST-Operand.html#t:Operand" title="LLVM.AST.Operand">Operand</a> <a href="src/Hachi.Compiler.CodeGen.Closure.html#loadFreeVar" class="link">Source</a> <a href="#v:loadFreeVar" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:closureTyDef" class="def">closureTyDef</a> :: <a href="../llvm-hs-pure-12.0.0/LLVM-AST-Type.html#t:Type" title="LLVM.AST.Type">Type</a> <a href="src/Hachi.Compiler.CodeGen.Closure.html#closureTyDef" class="link">Source</a> <a href="#v:closureTyDef" class="selflink">#</a></p><div class="doc"><p><code><a href="Hachi-Compiler-CodeGen-Closure.html#v:closureTyDef" title="Hachi.Compiler.CodeGen.Closure">closureTyDef</a></code> is a <code><a href="../llvm-hs-pure-12.0.0/LLVM-AST-Type.html#t:Type" title="LLVM.AST.Type">Type</a></code> definition for closures. Note the layout is
 as follows:</p><ul><li>A pointer to the code for the closure.</li><li>A pointer to the print code for the closure.</li><li>Closure flags.</li><li>Zero or more free variables. (LLVM will accept more elements than the
 array's indicated size) <a href="https://llvm.org/docs/LangRef.html#array-type">https://llvm.org/docs/LangRef.html#array-type</a></li></ul></div></div><div class="top"><p class="src"><a id="v:closureSize" class="def">closureSize</a> :: <a href="../base-4.14.3.0/Prelude.html#t:Num" title="Prelude">Num</a> a =&gt; a <a href="src/Hachi.Compiler.CodeGen.Closure.html#closureSize" class="link">Source</a> <a href="#v:closureSize" class="selflink">#</a></p><div class="doc"><p>The minimum size of a closure in words.</p></div></div><div class="top"><p class="src"><a id="v:closureTy" class="def">closureTy</a> :: <a href="../llvm-hs-pure-12.0.0/LLVM-AST-Type.html#t:Type" title="LLVM.AST.Type">Type</a> <a href="src/Hachi.Compiler.CodeGen.Types.html#closureTy" class="link">Source</a> <a href="#v:closureTy" class="selflink">#</a></p><div class="doc"><p><code><a href="Hachi-Compiler-CodeGen-Closure.html#v:closureTy" title="Hachi.Compiler.CodeGen.Closure">closureTy</a></code> is a <code><a href="../llvm-hs-pure-12.0.0/LLVM-AST-Type.html#t:Type" title="LLVM.AST.Type">Type</a></code> for closures.</p></div></div><div class="top"><p class="src"><a id="v:closureTyPtr" class="def">closureTyPtr</a> :: <a href="../llvm-hs-pure-12.0.0/LLVM-AST-Type.html#t:Type" title="LLVM.AST.Type">Type</a> <a href="src/Hachi.Compiler.CodeGen.Types.html#closureTyPtr" class="link">Source</a> <a href="#v:closureTyPtr" class="selflink">#</a></p><div class="doc"><p><code><a href="Hachi-Compiler-CodeGen-Closure.html#v:closureTyPtr" title="Hachi.Compiler.CodeGen.Closure">closureTyPtr</a></code> is a <code><a href="../llvm-hs-pure-12.0.0/LLVM-AST-Type.html#t:Type" title="LLVM.AST.Type">Type</a></code> representing a pointer to a closure.</p></div></div><a href="#g:2" id="g:2"><h1>Creating closures</h1></a><div class="top"><p class="src"><a id="v:mkEntryTy" class="def">mkEntryTy</a> :: <a href="../base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="../llvm-hs-pure-12.0.0/LLVM-AST-Type.html#t:Type" title="LLVM.AST.Type">Type</a> <a href="src/Hachi.Compiler.CodeGen.Closure.html#mkEntryTy" class="link">Source</a> <a href="#v:mkEntryTy" class="selflink">#</a></p><div class="doc"><p><code><a href="Hachi-Compiler-CodeGen-Closure.html#v:mkEntryTy" title="Hachi.Compiler.CodeGen.Closure">mkEntryTy</a></code> <code>arity</code> generates a function signature for a closure
 with <code>arity</code>-many parameters in addition to the parameter that
 references the closure itself. In other words, the resulting
 signature has 1+<code>arity</code> many parameters.</p></div></div><div class="top"><p class="src"><a id="v:clsEntryTy" class="def">clsEntryTy</a> :: <a href="../llvm-hs-pure-12.0.0/LLVM-AST-Type.html#t:Type" title="LLVM.AST.Type">Type</a> <a href="src/Hachi.Compiler.CodeGen.Closure.html#clsEntryTy" class="link">Source</a> <a href="#v:clsEntryTy" class="selflink">#</a></p><div class="doc"><p><code><a href="Hachi-Compiler-CodeGen-Closure.html#v:clsEntryTy" title="Hachi.Compiler.CodeGen.Closure">clsEntryTy</a></code> is the <code><a href="../llvm-hs-pure-12.0.0/LLVM-AST-Type.html#t:Type" title="LLVM.AST.Type">Type</a></code> of closure entry functions.</p></div></div><div class="top"><p class="src"><a id="v:clsEntryParams" class="def">clsEntryParams</a> :: <a href="../cardano-prelude-0.1.0.0/Cardano-Prelude.html#t:Text" title="Cardano.Prelude">Text</a> -&gt; [(<a href="../llvm-hs-pure-12.0.0/LLVM-AST-Type.html#t:Type" title="LLVM.AST.Type">Type</a>, <a href="Hachi-Compiler-CodeGen-IRBuilder.html#t:ParameterName" title="Hachi.Compiler.CodeGen.IRBuilder">ParameterName</a>)] <a href="src/Hachi.Compiler.CodeGen.Closure.html#clsEntryParams" class="link">Source</a> <a href="#v:clsEntryParams" class="selflink">#</a></p><div class="doc"><p><code><a href="Hachi-Compiler-CodeGen-Closure.html#v:clsEntryParams" title="Hachi.Compiler.CodeGen.Closure">clsEntryParams</a></code> <code>varName</code> constructs a list of parameters for a closure's
 entry function, where <code>varName</code> is the name of the variable being bound.</p></div></div><div class="top"><p class="src"><a id="v:varEntryTy" class="def">varEntryTy</a> :: <a href="../llvm-hs-pure-12.0.0/LLVM-AST-Type.html#t:Type" title="LLVM.AST.Type">Type</a> <a href="src/Hachi.Compiler.CodeGen.Closure.html#varEntryTy" class="link">Source</a> <a href="#v:varEntryTy" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:printFnTy" class="def">printFnTy</a> :: <a href="../llvm-hs-pure-12.0.0/LLVM-AST-Type.html#t:Type" title="LLVM.AST.Type">Type</a> <a href="src/Hachi.Compiler.CodeGen.Closure.html#printFnTy" class="link">Source</a> <a href="#v:printFnTy" class="selflink">#</a></p><div class="doc"><p><code><a href="Hachi-Compiler-CodeGen-Closure.html#v:printFnTy" title="Hachi.Compiler.CodeGen.Closure">printFnTy</a></code> is the <code><a href="../llvm-hs-pure-12.0.0/LLVM-AST-Type.html#t:Type" title="LLVM.AST.Type">Type</a></code> of closure print functions. They are similar to
 closure entry functions in that they take a pointer to the current closure
 as argument, but return nothing.</p></div></div><div class="top"><p class="src"><a id="v:mkClosureName" class="def">mkClosureName</a> :: <a href="../base-4.14.3.0/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="../llvm-hs-pure-12.0.0/LLVM-AST-Name.html#t:Name" title="LLVM.AST.Name">Name</a> <a href="src/Hachi.Compiler.CodeGen.Closure.html#mkClosureName" class="link">Source</a> <a href="#v:mkClosureName" class="selflink">#</a></p><div class="doc"><p><code><a href="Hachi-Compiler-CodeGen-Closure.html#v:mkClosureName" title="Hachi.Compiler.CodeGen.Closure">mkClosureName</a></code> <code>name</code> returns the name of a closure for <code>name</code>.</p></div></div><div class="top"><p class="src"><a id="v:compileClosure" class="def">compileClosure</a> :: <a href="Hachi-Compiler-CodeGen-IRBuilder.html#t:MonadModuleBuilder" title="Hachi.Compiler.CodeGen.IRBuilder">MonadModuleBuilder</a> m =&gt; <a href="../base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> -&gt; <a href="../base-4.14.3.0/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="../llvm-hs-pure-12.0.0/LLVM-AST-Constant.html#t:Constant" title="LLVM.AST.Constant">Constant</a> -&gt; <a href="../llvm-hs-pure-12.0.0/LLVM-AST-Constant.html#t:Constant" title="LLVM.AST.Constant">Constant</a> -&gt; [<a href="../llvm-hs-pure-12.0.0/LLVM-AST-Constant.html#t:Constant" title="LLVM.AST.Constant">Constant</a>] -&gt; m (<a href="Hachi-Compiler-CodeGen-Closure.html#t:ClosurePtr" title="Hachi.Compiler.CodeGen.Closure">ClosurePtr</a> '<a href="Hachi-Compiler-CodeGen-Types.html#v:StaticPtr" title="Hachi.Compiler.CodeGen.Types">StaticPtr</a>) <a href="src/Hachi.Compiler.CodeGen.Closure.html#compileClosure" class="link">Source</a> <a href="#v:compileClosure" class="selflink">#</a></p><div class="doc"><p><code><a href="Hachi-Compiler-CodeGen-Closure.html#v:compileClosure" title="Hachi.Compiler.CodeGen.Closure">compileClosure</a></code> <code>isPoly name entryPtr printPtr</code> generates a global
 variable representing a closure for <code>name</code>.</p></div></div><div class="top"><p class="src"><a id="v:ptrSize" class="def">ptrSize</a> :: <a href="../llvm-hs-pure-12.0.0/LLVM-AST-Operand.html#t:Operand" title="LLVM.AST.Operand">Operand</a> <a href="src/Hachi.Compiler.CodeGen.Closure.html#ptrSize" class="link">Source</a> <a href="#v:ptrSize" class="selflink">#</a></p><div class="doc"><p>The size of a pointer as an <code><a href="../llvm-hs-pure-12.0.0/LLVM-AST-Operand.html#t:Operand" title="LLVM.AST.Operand">Operand</a></code>. This should correspond to the
 value given by <code><a href="Hachi-Compiler-CodeGen-Closure.html#v:bits" title="Hachi.Compiler.CodeGen.Closure">bits</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:bits" class="def">bits</a> :: <a href="../base-4.14.3.0/Data-Word.html#t:Word32" title="Data.Word">Word32</a> <a href="src/Hachi.Compiler.CodeGen.Closure.html#bits" class="link">Source</a> <a href="#v:bits" class="selflink">#</a></p><div class="doc"><p>When we dynamically allocate closures, we need to know how much space to
 allocate for the pointers; for this purpose we are currently assuming that
 we are running on a 64-bit system.</p></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a id="t:HasFreeVars" class="def">HasFreeVars</a> ptr <span class="keyword">where</span> <a href="src/Hachi.Compiler.CodeGen.Closure.html#HasFreeVars" class="link">Source</a> <a href="#t:HasFreeVars" class="selflink">#</a></p><div class="doc"><p>A class of types which represent runtime structures that contain
 free variables.</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:loadFreeVar" class="def">loadFreeVar</a> :: (<a href="Hachi-Compiler-CodeGen-IRBuilder.html#t:MonadModuleBuilder" title="Hachi.Compiler.CodeGen.IRBuilder">MonadModuleBuilder</a> m, <a href="Hachi-Compiler-CodeGen-IRBuilder.html#t:MonadIRBuilder" title="Hachi.Compiler.CodeGen.IRBuilder">MonadIRBuilder</a> m) =&gt; ptr -&gt; <a href="../llvm-hs-pure-12.0.0/LLVM-AST-Type.html#t:Type" title="LLVM.AST.Type">Type</a> -&gt; <a href="../base-4.14.3.0/Prelude.html#t:Integer" title="Prelude">Integer</a> -&gt; m <a href="../llvm-hs-pure-12.0.0/LLVM-AST-Operand.html#t:Operand" title="LLVM.AST.Operand">Operand</a> <a href="src/Hachi.Compiler.CodeGen.Closure.html#loadFreeVar" class="link">Source</a> <a href="#v:loadFreeVar" class="selflink">#</a></p><div class="doc"><p><code><a href="Hachi-Compiler-CodeGen-Closure.html#v:loadFreeVar" title="Hachi.Compiler.CodeGen.Closure">loadFreeVar</a></code> <code>ptr type index</code> loads the free variable at <code>index</code>
 of the closure-like structure pointed to by <code>ptr</code>. If required,
 the resulting <code><a href="../llvm-hs-pure-12.0.0/LLVM-AST-Operand.html#t:Operand" title="LLVM.AST.Operand">Operand</a></code> is cast to <code>type</code>.</p></div></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:HasFreeVars">Instances</h4><details id="i:HasFreeVars" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:HasFreeVars:HasFreeVars:1"></span> <a href="Hachi-Compiler-CodeGen-Closure.html#t:HasFreeVars" title="Hachi.Compiler.CodeGen.Closure">HasFreeVars</a> <a href="Hachi-Compiler-CodeGen-Types.html#t:Continuation" title="Hachi.Compiler.CodeGen.Types">Continuation</a></span> <a href="src/Hachi.Compiler.CodeGen.Closure.html#line-196" class="link">Source</a> <a href="#t:HasFreeVars" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:HasFreeVars:HasFreeVars:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Hachi-Compiler-CodeGen-Closure.html">Hachi.Compiler.CodeGen.Closure</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:loadFreeVar">loadFreeVar</a> :: (<a href="Hachi-Compiler-CodeGen-IRBuilder.html#t:MonadModuleBuilder" title="Hachi.Compiler.CodeGen.IRBuilder">MonadModuleBuilder</a> m, <a href="Hachi-Compiler-CodeGen-IRBuilder.html#t:MonadIRBuilder" title="Hachi.Compiler.CodeGen.IRBuilder">MonadIRBuilder</a> m) =&gt; <a href="Hachi-Compiler-CodeGen-Types.html#t:Continuation" title="Hachi.Compiler.CodeGen.Types">Continuation</a> -&gt; <a href="../llvm-hs-pure-12.0.0/LLVM-AST-Type.html#t:Type" title="LLVM.AST.Type">Type</a> -&gt; <a href="../base-4.14.3.0/Prelude.html#t:Integer" title="Prelude">Integer</a> -&gt; m <a href="../llvm-hs-pure-12.0.0/LLVM-AST-Operand.html#t:Operand" title="LLVM.AST.Operand">Operand</a> <a href="src/Hachi.Compiler.CodeGen.Closure.html#loadFreeVar" class="link">Source</a> <a href="#v:loadFreeVar" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:HasFreeVars:HasFreeVars:2"></span> <a href="Hachi-Compiler-CodeGen-Closure.html#t:HasFreeVars" title="Hachi.Compiler.CodeGen.Closure">HasFreeVars</a> (<a href="Hachi-Compiler-CodeGen-Closure.html#t:ClosurePtr" title="Hachi.Compiler.CodeGen.Closure">ClosurePtr</a> k)</span> <a href="src/Hachi.Compiler.CodeGen.Closure.html#line-193" class="link">Source</a> <a href="#t:HasFreeVars" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:HasFreeVars:HasFreeVars:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Hachi-Compiler-CodeGen-Closure.html">Hachi.Compiler.CodeGen.Closure</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:loadFreeVar">loadFreeVar</a> :: (<a href="Hachi-Compiler-CodeGen-IRBuilder.html#t:MonadModuleBuilder" title="Hachi.Compiler.CodeGen.IRBuilder">MonadModuleBuilder</a> m, <a href="Hachi-Compiler-CodeGen-IRBuilder.html#t:MonadIRBuilder" title="Hachi.Compiler.CodeGen.IRBuilder">MonadIRBuilder</a> m) =&gt; <a href="Hachi-Compiler-CodeGen-Closure.html#t:ClosurePtr" title="Hachi.Compiler.CodeGen.Closure">ClosurePtr</a> k -&gt; <a href="../llvm-hs-pure-12.0.0/LLVM-AST-Type.html#t:Type" title="LLVM.AST.Type">Type</a> -&gt; <a href="../base-4.14.3.0/Prelude.html#t:Integer" title="Prelude">Integer</a> -&gt; m <a href="../llvm-hs-pure-12.0.0/LLVM-AST-Operand.html#t:Operand" title="LLVM.AST.Operand">Operand</a> <a href="src/Hachi.Compiler.CodeGen.Closure.html#loadFreeVar" class="link">Source</a> <a href="#v:loadFreeVar" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:allocateClosure" class="def">allocateClosure</a> :: (<a href="Hachi-Compiler-CodeGen-Monad.html#t:MonadCodeGen" title="Hachi.Compiler.CodeGen.Monad">MonadCodeGen</a> m, <a href="Hachi-Compiler-CodeGen-IRBuilder.html#t:MonadIRBuilder" title="Hachi.Compiler.CodeGen.IRBuilder">MonadIRBuilder</a> m) =&gt; <a href="../base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> -&gt; <a href="../llvm-hs-pure-12.0.0/LLVM-AST-Constant.html#t:Constant" title="LLVM.AST.Constant">Constant</a> -&gt; <a href="../llvm-hs-pure-12.0.0/LLVM-AST-Constant.html#t:Constant" title="LLVM.AST.Constant">Constant</a> -&gt; [<a href="../llvm-hs-pure-12.0.0/LLVM-AST-Operand.html#t:Operand" title="LLVM.AST.Operand">Operand</a>] -&gt; m (<a href="Hachi-Compiler-CodeGen-Closure.html#t:ClosurePtr" title="Hachi.Compiler.CodeGen.Closure">ClosurePtr</a> '<a href="Hachi-Compiler-CodeGen-Types.html#v:DynamicPtr" title="Hachi.Compiler.CodeGen.Types">DynamicPtr</a>) <a href="src/Hachi.Compiler.CodeGen.Closure.html#allocateClosure" class="link">Source</a> <a href="#v:allocateClosure" class="selflink">#</a></p><div class="doc"><p><code><a href="Hachi-Compiler-CodeGen-Closure.html#v:allocateClosure" title="Hachi.Compiler.CodeGen.Closure">allocateClosure</a></code> <code>isDelay codePtr printPtr freeVars</code> allocates a closure
 with enough space to store all of <code>freeVars</code> in addition to the code
 pointers. The code pointers are free variables are stored in the closure and
 the pointer to the closure is returned.</p></div></div><div class="top"><p class="src"><a id="v:withFreeVars" class="def">withFreeVars</a> :: (<a href="Hachi-Compiler-CodeGen-Closure.html#t:HasFreeVars" title="Hachi.Compiler.CodeGen.Closure">HasFreeVars</a> ptr, <a href="Hachi-Compiler-CodeGen-Monad.html#t:MonadCodeGen" title="Hachi.Compiler.CodeGen.Monad">MonadCodeGen</a> m, <a href="Hachi-Compiler-CodeGen-IRBuilder.html#t:MonadIRBuilder" title="Hachi.Compiler.CodeGen.IRBuilder">MonadIRBuilder</a> m) =&gt; ptr -&gt; m a -&gt; m a <a href="src/Hachi.Compiler.CodeGen.Closure.html#withFreeVars" class="link">Source</a> <a href="#v:withFreeVars" class="selflink">#</a></p><div class="doc"><p><code><a href="Hachi-Compiler-CodeGen-Closure.html#v:withFreeVars" title="Hachi.Compiler.CodeGen.Closure">withFreeVars</a></code> <code>ptr computation</code> runs <code>computation</code> after retrieving all
 free variables from the closure-like structure pointed to by <code>ptr</code>.</p></div></div><div class="top"><p class="src"><a id="v:compileDynamicClosure" class="def">compileDynamicClosure</a> :: <a href="Hachi-Compiler-CodeGen-Monad.html#t:MonadCodeGen" title="Hachi.Compiler.CodeGen.Monad">MonadCodeGen</a> m =&gt; <a href="../base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> -&gt; <a href="../base-4.14.3.0/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="../cardano-prelude-0.1.0.0/Cardano-Prelude.html#t:Set" title="Cardano.Prelude">Set</a> (<a href="../cardano-prelude-0.1.0.0/Cardano-Prelude.html#t:Text" title="Cardano.Prelude">Text</a>, <a href="../base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) -&gt; <a href="../cardano-prelude-0.1.0.0/Cardano-Prelude.html#t:Text" title="Cardano.Prelude">Text</a> -&gt; (<a href="../llvm-hs-pure-12.0.0/LLVM-AST-Operand.html#t:Operand" title="LLVM.AST.Operand">Operand</a> -&gt; <a href="../llvm-hs-pure-12.0.0/LLVM-AST-Operand.html#t:Operand" title="LLVM.AST.Operand">Operand</a> -&gt; <a href="Hachi-Compiler-CodeGen-Types.html#t:Continuation" title="Hachi.Compiler.CodeGen.Types">Continuation</a> -&gt; <a href="Hachi-Compiler-CodeGen-IRBuilder.html#t:IRBuilderT" title="Hachi.Compiler.CodeGen.IRBuilder">IRBuilderT</a> m ()) -&gt; <a href="Hachi-Compiler-CodeGen-IRBuilder.html#t:IRBuilderT" title="Hachi.Compiler.CodeGen.IRBuilder">IRBuilderT</a> m (<a href="Hachi-Compiler-CodeGen-Closure.html#t:ClosurePtr" title="Hachi.Compiler.CodeGen.Closure">ClosurePtr</a> '<a href="Hachi-Compiler-CodeGen-Types.html#v:DynamicPtr" title="Hachi.Compiler.CodeGen.Types">DynamicPtr</a>) <a href="src/Hachi.Compiler.CodeGen.Closure.html#compileDynamicClosure" class="link">Source</a> <a href="#v:compileDynamicClosure" class="selflink">#</a></p><div class="doc"><p><code><a href="Hachi-Compiler-CodeGen-Closure.html#v:compileDynamicClosure" title="Hachi.Compiler.CodeGen.Closure">compileDynamicClosure</a></code> <code>isDelay name freeVars var codeFun</code> generates code
 which dynamically creates a new closure when executed. The static parts of
 the closure use <code>name</code>. The set given by <code>freeVars</code> signals which variables
 should be stored in the closure's free variables array. The name given by
 <code>var</code> is the variable that is bound by this closure. <code>codeFun</code> is a
 computation which generates the code for the body of the closure.
 The function returns a <code><a href="Hachi-Compiler-CodeGen-Closure.html#t:ClosurePtr" title="Hachi.Compiler.CodeGen.Closure">ClosurePtr</a></code> representing the new closure.</p></div></div><div class="top"><p class="src"><a id="v:compileFunPrint" class="def">compileFunPrint</a> :: <a href="Hachi-Compiler-CodeGen-Monad.html#t:MonadCodeGen" title="Hachi.Compiler.CodeGen.Monad">MonadCodeGen</a> m =&gt; m <a href="../llvm-hs-pure-12.0.0/LLVM-AST-Constant.html#t:Constant" title="LLVM.AST.Constant">Constant</a> <a href="src/Hachi.Compiler.CodeGen.Closure.html#compileFunPrint" class="link">Source</a> <a href="#v:compileFunPrint" class="selflink">#</a></p><div class="doc"><p><code><a href="Hachi-Compiler-CodeGen-Closure.html#v:compileFunPrint" title="Hachi.Compiler.CodeGen.Closure">compileFunPrint</a></code> is a computation which generates the shared
 pretty-printing code for all function closures and returns a
 reference to it.</p></div></div><a href="#g:3" id="g:3"><h1>Loading data from closures</h1></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:ClosureComponent" class="def">ClosureComponent</a> <a href="src/Hachi.Compiler.CodeGen.Closure.html#ClosureComponent" class="link">Source</a> <a href="#t:ClosureComponent" class="selflink">#</a></p><div class="doc"><p>Enumerates different components of a closure.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:ClosureCode" class="def">ClosureCode</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:ClosurePrint" class="def">ClosurePrint</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:ClosureFlags" class="def">ClosureFlags</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:ClosureFreeVar" class="def">ClosureFreeVar</a> <a href="../base-4.14.3.0/Prelude.html#t:Integer" title="Prelude">Integer</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:ClosureComponent">Instances</h4><details id="i:ClosureComponent" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ClosureComponent:Eq:1"></span> <a href="../base-4.14.3.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> <a href="Hachi-Compiler-CodeGen-Closure.html#t:ClosureComponent" title="Hachi.Compiler.CodeGen.Closure">ClosureComponent</a></span> <a href="src/Hachi.Compiler.CodeGen.Closure.html#line-91" class="link">Source</a> <a href="#t:ClosureComponent" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ClosureComponent:Eq:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Hachi-Compiler-CodeGen-Closure.html">Hachi.Compiler.CodeGen.Closure</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Hachi-Compiler-CodeGen-Closure.html#t:ClosureComponent" title="Hachi.Compiler.CodeGen.Closure">ClosureComponent</a> -&gt; <a href="Hachi-Compiler-CodeGen-Closure.html#t:ClosureComponent" title="Hachi.Compiler.CodeGen.Closure">ClosureComponent</a> -&gt; <a href="../base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Hachi-Compiler-CodeGen-Closure.html#t:ClosureComponent" title="Hachi.Compiler.CodeGen.Closure">ClosureComponent</a> -&gt; <a href="Hachi-Compiler-CodeGen-Closure.html#t:ClosureComponent" title="Hachi.Compiler.CodeGen.Closure">ClosureComponent</a> -&gt; <a href="../base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ClosureComponent:Show:2"></span> <a href="../base-4.14.3.0/Text-Show.html#t:Show" title="Text.Show">Show</a> <a href="Hachi-Compiler-CodeGen-Closure.html#t:ClosureComponent" title="Hachi.Compiler.CodeGen.Closure">ClosureComponent</a></span> <a href="src/Hachi.Compiler.CodeGen.Closure.html#line-91" class="link">Source</a> <a href="#t:ClosureComponent" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ClosureComponent:Show:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Hachi-Compiler-CodeGen-Closure.html">Hachi.Compiler.CodeGen.Closure</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="../base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Hachi-Compiler-CodeGen-Closure.html#t:ClosureComponent" title="Hachi.Compiler.CodeGen.Closure">ClosureComponent</a> -&gt; <a href="../base-4.14.3.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Hachi-Compiler-CodeGen-Closure.html#t:ClosureComponent" title="Hachi.Compiler.CodeGen.Closure">ClosureComponent</a> -&gt; <a href="../base-4.14.3.0/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Hachi-Compiler-CodeGen-Closure.html#t:ClosureComponent" title="Hachi.Compiler.CodeGen.Closure">ClosureComponent</a>] -&gt; <a href="../base-4.14.3.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:loadFromClosure" class="def">loadFromClosure</a> :: (<a href="Hachi-Compiler-CodeGen-IRBuilder.html#t:MonadModuleBuilder" title="Hachi.Compiler.CodeGen.IRBuilder">MonadModuleBuilder</a> m, <a href="Hachi-Compiler-CodeGen-IRBuilder.html#t:MonadIRBuilder" title="Hachi.Compiler.CodeGen.IRBuilder">MonadIRBuilder</a> m) =&gt; <a href="Hachi-Compiler-CodeGen-Closure.html#t:ClosureComponent" title="Hachi.Compiler.CodeGen.Closure">ClosureComponent</a> -&gt; <a href="../llvm-hs-pure-12.0.0/LLVM-AST-Type.html#t:Type" title="LLVM.AST.Type">Type</a> -&gt; <a href="Hachi-Compiler-CodeGen-Closure.html#t:ClosurePtr" title="Hachi.Compiler.CodeGen.Closure">ClosurePtr</a> k -&gt; m <a href="../llvm-hs-pure-12.0.0/LLVM-AST-Operand.html#t:Operand" title="LLVM.AST.Operand">Operand</a> <a href="src/Hachi.Compiler.CodeGen.Closure.html#loadFromClosure" class="link">Source</a> <a href="#v:loadFromClosure" class="selflink">#</a></p><div class="doc"><p><code><a href="Hachi-Compiler-CodeGen-Closure.html#v:loadFromClosure" title="Hachi.Compiler.CodeGen.Closure">loadFromClosure</a></code> <code>component type ptr</code> loads the component described by
 <code>component</code> from the closure represented by <code>ptr</code> and casts its type to
 <code>type</code>.</p></div></div><div class="top"><p class="src"><a id="v:callClosure" class="def">callClosure</a> :: (<a href="../base-4.14.3.0/Control-Monad-Fail.html#t:MonadFail" title="Control.Monad.Fail">MonadFail</a> m, <a href="Hachi-Compiler-CodeGen-IRBuilder.html#t:MonadModuleBuilder" title="Hachi.Compiler.CodeGen.IRBuilder">MonadModuleBuilder</a> m, <a href="Hachi-Compiler-CodeGen-IRBuilder.html#t:MonadIRBuilder" title="Hachi.Compiler.CodeGen.IRBuilder">MonadIRBuilder</a> m) =&gt; <a href="Hachi-Compiler-CodeGen-Closure.html#t:ClosureComponent" title="Hachi.Compiler.CodeGen.Closure">ClosureComponent</a> -&gt; <a href="Hachi-Compiler-CodeGen-Closure.html#t:ClosurePtr" title="Hachi.Compiler.CodeGen.Closure">ClosurePtr</a> k -&gt; [<a href="../llvm-hs-pure-12.0.0/LLVM-AST-Operand.html#t:Operand" title="LLVM.AST.Operand">Operand</a>] -&gt; m (<a href="Hachi-Compiler-CodeGen-Closure.html#t:ClosurePtr" title="Hachi.Compiler.CodeGen.Closure">ClosurePtr</a> '<a href="Hachi-Compiler-CodeGen-Types.html#v:DynamicPtr" title="Hachi.Compiler.CodeGen.Types">DynamicPtr</a>) <a href="src/Hachi.Compiler.CodeGen.Closure.html#callClosure" class="link">Source</a> <a href="#v:callClosure" class="selflink">#</a></p><div class="doc"><p><code><a href="Hachi-Compiler-CodeGen-Closure.html#v:callClosure" title="Hachi.Compiler.CodeGen.Closure">callClosure</a></code> <code>component ptr args</code> loads the component described by
 <code>component</code> from the closure represented by <code>ptr</code>, assumes it is a function,
 and then calls it with <code>args</code> as arguments.</p></div></div><div class="top"><p class="src"><a id="v:enterClosure" class="def">enterClosure</a> :: (<a href="../base-4.14.3.0/Control-Monad-Fail.html#t:MonadFail" title="Control.Monad.Fail">MonadFail</a> m, <a href="Hachi-Compiler-CodeGen-IRBuilder.html#t:MonadModuleBuilder" title="Hachi.Compiler.CodeGen.IRBuilder">MonadModuleBuilder</a> m, <a href="Hachi-Compiler-CodeGen-IRBuilder.html#t:MonadIRBuilder" title="Hachi.Compiler.CodeGen.IRBuilder">MonadIRBuilder</a> m) =&gt; <a href="Hachi-Compiler-CodeGen-Closure.html#t:ClosurePtr" title="Hachi.Compiler.CodeGen.Closure">ClosurePtr</a> k -&gt; <a href="Hachi-Compiler-CodeGen-Types.html#t:Continuation" title="Hachi.Compiler.CodeGen.Types">Continuation</a> -&gt; <a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../llvm-hs-pure-12.0.0/LLVM-AST-Operand.html#t:Operand" title="LLVM.AST.Operand">Operand</a> -&gt; m (<a href="Hachi-Compiler-CodeGen-Closure.html#t:ClosurePtr" title="Hachi.Compiler.CodeGen.Closure">ClosurePtr</a> '<a href="Hachi-Compiler-CodeGen-Types.html#v:DynamicPtr" title="Hachi.Compiler.CodeGen.Types">DynamicPtr</a>) <a href="src/Hachi.Compiler.CodeGen.Closure.html#enterClosure" class="link">Source</a> <a href="#v:enterClosure" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:printClosure" class="def">printClosure</a> :: (<a href="../base-4.14.3.0/Control-Monad-Fail.html#t:MonadFail" title="Control.Monad.Fail">MonadFail</a> m, <a href="Hachi-Compiler-CodeGen-IRBuilder.html#t:MonadModuleBuilder" title="Hachi.Compiler.CodeGen.IRBuilder">MonadModuleBuilder</a> m, <a href="Hachi-Compiler-CodeGen-IRBuilder.html#t:MonadIRBuilder" title="Hachi.Compiler.CodeGen.IRBuilder">MonadIRBuilder</a> m) =&gt; <a href="Hachi-Compiler-CodeGen-Closure.html#t:ClosurePtr" title="Hachi.Compiler.CodeGen.Closure">ClosurePtr</a> k -&gt; m () <a href="src/Hachi.Compiler.CodeGen.Closure.html#printClosure" class="link">Source</a> <a href="#v:printClosure" class="selflink">#</a></p><div class="doc"><p><code><a href="Hachi-Compiler-CodeGen-Closure.html#v:printClosure" title="Hachi.Compiler.CodeGen.Closure">printClosure</a></code> <code>ptr</code> invokes the pretty-printing function of the closure
 represented by <code>ptr</code>.</p></div></div><div class="top"><p class="src"><a id="v:compileApply" class="def">compileApply</a> :: (<a href="../base-4.14.3.0/Control-Monad-Fail.html#t:MonadFail" title="Control.Monad.Fail">MonadFail</a> m, <a href="Hachi-Compiler-CodeGen-IRBuilder.html#t:MonadModuleBuilder" title="Hachi.Compiler.CodeGen.IRBuilder">MonadModuleBuilder</a> m, <a href="Hachi-Compiler-CodeGen-IRBuilder.html#t:MonadIRBuilder" title="Hachi.Compiler.CodeGen.IRBuilder">MonadIRBuilder</a> m) =&gt; <a href="Hachi-Compiler-CodeGen-Types.html#t:Continuation" title="Hachi.Compiler.CodeGen.Types">Continuation</a> -&gt; <a href="Hachi-Compiler-CodeGen-Closure.html#t:ClosurePtr" title="Hachi.Compiler.CodeGen.Closure">ClosurePtr</a> f -&gt; <a href="Hachi-Compiler-CodeGen-Closure.html#t:ClosurePtr" title="Hachi.Compiler.CodeGen.Closure">ClosurePtr</a> x -&gt; m (<a href="Hachi-Compiler-CodeGen-Closure.html#t:ClosurePtr" title="Hachi.Compiler.CodeGen.Closure">ClosurePtr</a> '<a href="Hachi-Compiler-CodeGen-Types.html#v:DynamicPtr" title="Hachi.Compiler.CodeGen.Types">DynamicPtr</a>) <a href="src/Hachi.Compiler.CodeGen.Closure.html#compileApply" class="link">Source</a> <a href="#v:compileApply" class="selflink">#</a></p><div class="doc"><p><code><a href="Hachi-Compiler-CodeGen-Closure.html#v:compileApply" title="Hachi.Compiler.CodeGen.Closure">compileApply</a></code> <code>funClosure argClosure</code> generates code which causes the
 program to enter the closure represented by <code>funClosure</code> with the argument
 given by <code>argClosure</code>.</p></div></div><div class="top"><p class="src"><a id="v:lookupVar" class="def">lookupVar</a> :: (<a href="Hachi-Compiler-CodeGen-Monad.html#t:MonadCodeGen" title="Hachi.Compiler.CodeGen.Monad">MonadCodeGen</a> m, <a href="Hachi-Compiler-CodeGen-IRBuilder.html#t:MonadIRBuilder" title="Hachi.Compiler.CodeGen.IRBuilder">MonadIRBuilder</a> m, <a href="../base-4.14.3.0/Control-Monad-Fail.html#t:MonadFail" title="Control.Monad.Fail">MonadFail</a> m) =&gt; <a href="../cardano-prelude-0.1.0.0/Cardano-Prelude.html#t:Text" title="Cardano.Prelude">Text</a> -&gt; <a href="../llvm-hs-pure-12.0.0/LLVM-AST-Type.html#t:Type" title="LLVM.AST.Type">Type</a> -&gt; m <a href="../llvm-hs-pure-12.0.0/LLVM-AST-Operand.html#t:Operand" title="LLVM.AST.Operand">Operand</a> <a href="src/Hachi.Compiler.CodeGen.Closure.html#lookupVar" class="link">Source</a> <a href="#v:lookupVar" class="selflink">#</a></p><div class="doc"><p><code><a href="Hachi-Compiler-CodeGen-Closure.html#v:lookupVar" title="Hachi.Compiler.CodeGen.Closure">lookupVar</a></code> <code>name type</code> generates code which retrieves the variable named
 <code>name</code> from the local environment. If the variable is not in scope, we
 generate code which prints an error at runtime. For convenience, we cast
 the type of the resulting <code><a href="../llvm-hs-pure-12.0.0/LLVM-AST-Operand.html#t:Operand" title="LLVM.AST.Operand">Operand</a></code> to <code>type</code>, which will normally be
 <code><a href="Hachi-Compiler-CodeGen-Closure.html#v:closureTyPtr" title="Hachi.Compiler.CodeGen.Closure">closureTyPtr</a></code>.</p></div></div><a href="#g:4" id="g:4"><h1>Misc</h1></a><div class="top"><p class="src"><a id="v:retClosure" class="def">retClosure</a> :: (<a href="Hachi-Compiler-CodeGen-IRBuilder.html#t:MonadModuleBuilder" title="Hachi.Compiler.CodeGen.IRBuilder">MonadModuleBuilder</a> m, <a href="Hachi-Compiler-CodeGen-IRBuilder.html#t:MonadIRBuilder" title="Hachi.Compiler.CodeGen.IRBuilder">MonadIRBuilder</a> m) =&gt; <a href="Hachi-Compiler-CodeGen-Closure.html#t:ClosurePtr" title="Hachi.Compiler.CodeGen.Closure">ClosurePtr</a> k -&gt; m () <a href="src/Hachi.Compiler.CodeGen.Closure.html#retClosure" class="link">Source</a> <a href="#v:retClosure" class="selflink">#</a></p><div class="doc"><p><code><a href="Hachi-Compiler-CodeGen-Closure.html#v:retClosure" title="Hachi.Compiler.CodeGen.Closure">retClosure</a></code> <code>closurePtr</code> returns the pointer represented by <code>closurePtr</code>.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.24.2</p></div></body></html>